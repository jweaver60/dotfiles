# Some of my functions

# Octopress create a new post
octnew() {
  rake new_post\["$@"\]
}

# Morning update
goodmorning() {
  echo "upgrading oh my zsh"
  upgrade_oh_my_zsh
  echo "updating homebrew"
  brew update
  echo "updating any packages"
  brew upgrade
  echo "cleaning up any old packages"
  brew cleanup
  echo "checking for any homebrew errors"
  brew doctor
  echo "Updating vim plugins"
  vim +PluginUpdate +qall
  echo "Cleaning Node cache"
  npm cache clean
  echo "Updating Node packages"
  npm update -g
  echo "updating RVM"
  rvm get head
  echo "cleaning up RVM"
  rvm cleanup all
  rm ~/.rvmrc
  ln -s ~/.dotfiles/rvm/rvmrc ~/.rvmrc
  echo "Good to go!"
}

# Support for Sublime command from terminal
SUBLIME_BIN="/Applications/Sublime Text.app/Contents/SharedSupport/bin"
SUBLIME_CMD="subl"
if [ -x "${SUBLIME_BIN}/${SUBLIME_CMD}" ]; then
	  export PATH="${SUBLIME_BIN}":$PATH
	  export VISUAL="${SUBLIME_CMD} -w";
	  export EDITOR="$VISUAL";
fi

pstotal() {
  ps -axm -o "rss,comm" | awk 'BEGIN { s=0;}; {s=s+$1;}; END { printf("%.2f GB\n", (s/1024.0/1024));}'
}

psover() {
  ps -axm -o "rss,comm" | awk 'BEGIN { c=0;s=0;}; ($1 > 100000) {c=c+1;s=s+$1;}; END { printf("%.2f GB from %d processes\n", (s/1024.0/1024),c);}'
}
